parameters:
- name: 'enviornment' 
  type: string
- name: 'packageName' 
  type: string
  
steps:

- task: ExtractFiles@1
  displayName: 'Extract File'
  inputs:
    archiveFilePatterns: '$(Pipeline.Workspace)/drop/${{parameters.packageName}}'
    destinationFolder: ${{variables.serviceBasePath}}
    cleanDestinationFolder: true
    overwriteExistingFiles: false   

- task: FileTransform@1
  displayName: 'Config Transformation'
  inputs:
    folderPath: '$(Pipeline.Workspace)/drop/${{parameters.packageName}}'
    enableXmlTransform: true
    xmlTransformationRules: '-transform **\web.Local.config -xml **\web.config'        
